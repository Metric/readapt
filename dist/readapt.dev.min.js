!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class o{constructor(e,t,n){this.nodeName=e,this.nodeType=t,this.nodeValue=n,this.childNodes=Array(0)}}function r(e,t,...n){t=t||{};const r=Array(0);let i,l=new o(e,"function"==typeof e?"component":"element","");for(n.forEach(e=>r.unshift(e)),t&&null!=t.children&&(r.length||r.push(t.children),delete t.children);r.length;)i=r.pop(),Array.isArray(i)?i.forEach(e=>r.unshift(e)):i instanceof o?l.childNodes.push(i):l.childNodes.push(new o("#text","text",i));return l.attributes=t,l.key=t.key?t.key:void 0,l}const i="__readapt__",l=3,s=1,d={document:null};function a(e){const t=e.parentNode;t&&t.removeChild(e)}function c(e,t,n){return!!e&&("text"===t.nodeType?e.splitText:"string"==typeof t.nodeName?!e._component&&e.nodeName.toLowerCase()===t.nodeName.toLowerCase():n||e._component&&e._component.constructor===t.nodeName)}function u(e,t,n,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),o&&o(e);else if("html"===t)n!==o&&(e.innerHTML=o);else if("class"===t)if(o&&"string"!=typeof o){if(o&&"object"==typeof o){if("object"==typeof n)for(let t in n)t in o||e.classList.remove(t);for(let t in o)o[t]?e.classList.add(t):e.classList.remove(t)}}else e.className=o||"";else if("style"===t)if(o&&"string"!=typeof o&&"string"!=typeof n){if(o&&"object"==typeof o){if("object"==typeof n)for(let t in n)t in o||(e.style[t]="");else e.style.cssText="";for(let t in o)e.style[t]=o[t]||""}}else e.style.cssText=o||"";else if("o"===t[0]&&"n"===t[1]){let r=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,o,r):n&&e.removeEventListener(t,n,r)}else if("list"!==t&&"type"!==t&&t in e)try{e[t]=null==o?"":o}catch(n){null!=o&&!1!==o||"spellcheck"===t||e.removeAttribute(t)}else null==o||!1===o?e.removeAttribute(t):"function"!=typeof o&&e.setAttribute(t,o)}let f=!1,p=0;function h(e,t,n,o){let r=null;return p++||(f=e&&!e[i]),r=m(e,t,n,o),n&&r.parentNode!==n&&n.appendChild(r),--p||(f=!1),r}function m(e,t,n,o){let r=e;if(null!=t.nodeValue&&"boolean"!=typeof t.nodeValue||(t.nodeValue=""),"text"===t.nodeType)return e&&e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t.nodeValue&&(e.nodeValue=t.nodeValue):(r=d.document.createTextNode(t.nodeValue),e&&(e.parentNode&&e.parentNode.replaceChild(r,e),y(e,!1))),r[i]={},r;let l=t.nodeName;if("function"==typeof l)return function(e,t,n){let o=e&&e._component,r=o&&o.constructor===t.nodeName,l=t.attributes,s=t.nodeName,d=e?Object.assign({},e[i]):{};if(r&&o){const r=_(o,l,t.childNodes);r&&(C(o,n),o.componentDidUpdate(d)),e=o.base}else y(e,!1),(o=new s(l,null)).children=t.childNodes,o.ref&&o.ref(o),C(o,n),e=o.base;return e}(e,t,n);if((!e||e.nodeName.toLowerCase()!==l.toLowerCase())&&(r=function(e){return d.document.createElement(e)}(l),e)){for(;e.firstChild;)r.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(r,e),y(e,!1)}let s=r[i];s||(s=r[i]={},r.getAttributeNames().forEach(e=>s[e]=r.getAttribute(e)));let p=r.firstChild,h=t.childNodes;return(h.length||p)&&function(e,t,n){let o,r,l,s,d,u=e.childNodes,p=Array(),h={},b=0,N=0,v=u.length,g=0,C=t?t.length:0;if(0!==v)for(let e=0;e<v;e++){let t=u[e],n=t[i],o=C&&n?t._component?t._component.key:n.key:null;null!=o?(b++,h[o]=t):(n||(void 0!==t.splitText?!f||t.nodeValue.trim():f))&&(p[g++]=t)}if(0!==C)for(let i=0;i<C;i++){s=t[i],d=null;let y=s.key;if(null!=y)b&&void 0!==h[y]&&(d=h[y],h[y]=void 0,b--);else if(N<g)for(o=N;o<g;o++)if(void 0!==p[o]&&c(r=p[o],s,f)){d=r,p[o]=void 0,o===g-1&&g--,o===N&&N++;break}d=m(d,s,e,n),l=u[i],d&&d!==e&&d!==l&&(null==l?e.appendChild(d):d===l.nextSibling?a(l):e.insertBefore(d,l))}if(b)for(let e in h)void 0!==h[e]&&y(h[e],!1);for(;N<=g;)void 0!==(d=p[g--])&&y(d,!1)}(r,h,o),function(e,t,n){let o;for(o in n)t&&null!=t[o]||null==n[o]||u(e,o,n,n[o]=void 0);for(o in t)"children"!==o&&"innerHTML"!==o&&t[o]!==("value"===o||"checked"===o?e[o]:n[o])&&u(e,o,n[o],n[o]=t[o])}(r,t.attributes,s),r}function y(e,t){if(!e)return;let n=e._component;n&&w(n),e[i]&&e[i].ref&&e[i].ref(null),(!1===t||e[i])&&a(e),function(e){e=e.lastChild;for(;e;){let t=e.previousSibling;y(e,!0),e=t}}(e)}let b=Array(0);function N(e,t){return v(e,t,t.firstElementChild)}function v(e,t,n){return h(n,e,t,!0)}const g=Promise.resolve().then.bind(Promise.resolve());setTimeout,"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame;function C(e,t){let n,o,r,l,s,d,a,c,u,f=e.base;if(!e.disabled)if((l=e.render())&&!Array.isArray(l)){if(e.parentNode=t,d=c=e.base,"function"==typeof l.nodeName){if(o=l.attributes,(a=e.child)&&a.constructor===l.nodeName){r=a.base?Object.assign({},a.base[i]):{},_(a,o,l.childNodes)&&(C(a,a.parentNode),a.componentDidUpdate(r))}else s=a,u=l.nodeName,!s&&d&&y(d,!1),e.child=a=new u(o,e),a.children=l.childNodes,a.ref&&a.ref(a),C(a,e.parentNode);c=a.base}"function"!=typeof l.nodeName&&((s=e.child)&&(d=e.child=null),c=h(d,l,e.parentNode,!0)),d&&c!==d&&a!==e.child&&(n=d.parentNode)&&c!==n&&(n.replaceChild(c,d),s||(c._component=null,y(d,!1))),s&&w(s),e.base=c,c&&!e.child&&(c._component=e),f||e.componentDidMount()}else e.base&&(y(e.base,!1),e.base=null)}function _(e,t,n){let o=!1;e.ref&&e.ref(e),e.children=n,e.disabled=!0;for(let n in t)void 0!==e[n]&&(e[n]!==t[n]&&(o=!0),e[n]=t[n]);return e.disabled=!1,o}function w(e){const t=e.base;e.disabled=!0,e.componentWillUnmount(),e.base=null,e.child&&w(e.child),e.parent=null,e.child=null,t&&(t._component=null,t[i]&&t[i].ref&&t[i].ref(null),y(t,!1)),e.ref&&e.ref(null)}d.document=document,window.h=r,window.Component=class{constructor(e,t,n){this.disabled=!1,this.key=e.key,this.ref=e.ref,this.asyncMethod=g,this.renderMode=n||s,this.child=null,this.base=null,this.parent=t,this.parentNode=null,this.children=[],delete e.ref,delete e.key,this.observe(e)}onChange(e,t,n){this.shouldComponentUpdate(e,t,n)&&(this.renderMode===s?C(this,this.parentNode):this.renderMode===l&&function(e){b.unshift(e),(e.asyncMethod||g)(()=>{let e,t=b;for(b=Array(0);e=t.pop();)C(e,e.parentNode)})}(this))}forceUpdate(){C(this,this.parentNode)}componentDidUpdate(e){}render(){}componentWillUnmount(){}componentDidMount(){}shouldComponentUpdate(e,t,n){return!0}observe(e){for(let t in e){let n=e[t];"function"!=typeof n?(Object.defineProperty(this,`$${t}`,{value:n,writable:!0,enumerable:!1}),Object.defineProperty(this,t,{enumerable:!0,get(){return this[`$${t}`]},set(e){const n=this[`$${t}`];this[`$${t}`]=e,this.disabled||n===e||this.onChange(t,e,n)}})):this[t]=n}}},window.Readapt={render:v,hydrate:N},window.React={createElement:r,render:v,hydrate:N}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlYWRhcHQtdmRvbS92bm9kZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc3RhbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9yZWFkYXB0LWRvbS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVhZGFwdC12ZG9tL2RpZmYudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jbGllbnQuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJWTm9kZSIsIltvYmplY3QgT2JqZWN0XSIsInR5cGUiLCJ2IiwidGhpcyIsIm5vZGVOYW1lIiwibm9kZVR5cGUiLCJub2RlVmFsdWUiLCJjaGlsZE5vZGVzIiwiQXJyYXkiLCJoIiwiYXR0cmlidXRlcyIsImNoaWxkcmVuIiwic3RhY2siLCJjaGlsZCIsImZvckVhY2giLCJ1bnNoaWZ0IiwibGVuZ3RoIiwicHVzaCIsInBvcCIsImlzQXJyYXkiLCJ1bmRlZmluZWQiLCJBVFRSX0tFWSIsIkFTWU5DIiwiU1lOQyIsIkRPTSIsImRvY3VtZW50IiwicmVtb3ZlTm9kZSIsIm5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpc1NhbWVOb2RlVHlwZSIsInZub2RlIiwiaHlkcmF0aW5nIiwic3BsaXRUZXh0IiwiX2NvbXBvbmVudCIsInRvTG93ZXJDYXNlIiwiY29uc3RydWN0b3IiLCJzZXRBY2Nlc3NvciIsIm9sZCIsImlubmVySFRNTCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImNsYXNzTmFtZSIsInN0eWxlIiwiY3NzVGV4dCIsInVzZUNhcHR1cmUiLCJyZXBsYWNlIiwic3Vic3RyaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiZGlmZkxldmVsIiwiZGlmZiIsImRvbSIsInBhcmVudCIsInJvb3QiLCJyZXQiLCJpZGlmZiIsImFwcGVuZENoaWxkIiwib3V0IiwiY3JlYXRlVGV4dE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJyZWNvbGxlY3ROb2RlVHJlZSIsImlzRGlyZWN0T3duZXIiLCJwcm9wcyIsInByZXZpb3VzUHJvcHMiLCJhc3NpZ24iLCJ1cGRhdGUiLCJwcmVwYXJlUmVuZGVyIiwicmVuZGVyQ29tcG9uZW50IiwiY29tcG9uZW50RGlkVXBkYXRlIiwiYmFzZSIsInJlZiIsImJ1aWxkQ29tcG9uZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZU5vZGUiLCJmaXJzdENoaWxkIiwiZ2V0QXR0cmlidXRlTmFtZXMiLCJnZXRBdHRyaWJ1dGUiLCJmYyIsInZjaGlsZHJlbiIsImoiLCJmIiwidmNoaWxkIiwib3JpZ2luYWxDaGlsZHJlbiIsImtleWVkIiwia2V5ZWRMZW4iLCJtaW4iLCJsZW4iLCJjaGlsZHJlbkxlbiIsInZsZW4iLCJ0cmltIiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJpbm5lckRpZmZOb2RlIiwiYXR0cnMiLCJkaWZmQXR0cmlidXRlcyIsInVubW91bnRPbmx5IiwiY29tcG9uZW50IiwidW5tb3VudENvbXBvbmVudCIsImxhc3RDaGlsZCIsIm5leHQiLCJwcmV2aW91c1NpYmxpbmciLCJyZW1vdmVDaGlsZHJlbiIsInJlbmRlclF1ZXVlIiwiaHlkcmF0ZSIsInJlbmRlciIsImZpcnN0RWxlbWVudENoaWxkIiwibWVyZ2UiLCJERUZFUl9QUk9NSVNFIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwic2V0VGltZW91dCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJlbmRlcmVkIiwidG9Vbm1vdW50IiwiY2Jhc2UiLCJpbnN0IiwiaXNVcGRhdGUiLCJkaXNhYmxlZCIsImNvbXBvbmVudERpZE1vdW50IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ3aW5kb3ciLCJDb21wb25lbnQiLCJyZW5kZXJNb2RlIiwiYXN5bmNNZXRob2QiLCJvYnNlcnZlIiwicHJldmlvdXMiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJsaXN0IiwiZW5xdWV1ZSIsImsiLCJ3cml0YWJsZSIsIm52IiwicHJldiIsIm9uQ2hhbmdlIiwiUmVhZGFwdCIsIlJlYWN0Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIs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UXNGLElBQ25CQSxFQUFVNEIsYUFBZWpCLEdBQWUsS0FDckMsSUFBSW5ILEVBQUd3SSxFQUFPMUIsRUFFZCxJQURBQSxFQUFjbkcsTUFBaUIsR0FDeEJYLEVBQUl3SSxFQUFLbkgsT0FBUXNELEVBQWdCM0UsRUFBR0EsRUFBRStCLGNEaUNOMEcsQ0FBUW5JLE9BSW5ESCxjQUNJd0UsRUFBZ0JyRSxLQUFNQSxLQUFLeUIsWUFHL0I1QixtQkFBbUJtSSxJQUluQm5JLFVBSUFBLHdCQUlBQSxxQkFJVUEsc0JBQXNCVixFQUFhTixFQUFZbUosR0FDckQsT0FBTyxFQUdEbkksUUFBUXhCLEdBQ2QsSUFBSSxJQUFJK0osS0FBSy9KLEVBQUcsQ0FDWixJQUFJMEIsRUFBVTFCLEVBQUUrSixHQUVBLG1CQUFOckksR0FLVnpCLE9BQU9DLGVBQWV5QixTQUFXb0ksS0FBTXZKLE1BQU9rQixFQUFHc0ksVUFBVSxFQUFNN0osWUFBWSxJQUU3RUYsT0FBT0MsZUFBZXlCLEtBQU1vSSxHQUN4QjVKLFlBQVksRUFDWnFCLE1BQ0ksT0FBT0csU0FBVW9JLE1BRXJCdkksSUFBSXlJLEdBQ0EsTUFBTUMsRUFBT3ZJLFNBQVVvSSxLQUN2QnBJLFNBQVVvSSxLQUFPRSxFQUVidEksS0FBS3dILFVBQVllLElBQVNELEdBQzFCdEksS0FBS3dJLFNBQVNKLEVBQUVFLEVBQUdDLE9BaEIzQnZJLEtBQUtvSSxHQUFLckksS0VyRTFCNEgsT0FBT2MsU0FDSC9CLE9BQVFBLEVBQ1JELFFBQVNBLEdBRWJrQixPQUFPZSxPQUNIaEUsY0FBZXBFLEVBQ2ZvRyxPQUFRQSxFQUNSRCxRQUFTQSIsImZpbGUiOiJyZWFkYXB0LmRldi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCIndXNlIHN0cmljdCc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZOb2RlIHtcclxuICAgIGF0dHJpYnV0ZXM6IGFueTtcclxuICAgIG5vZGVOYW1lOiBhbnk7XHJcbiAgICBub2RlVHlwZTogc3RyaW5nO1xyXG4gICAgbm9kZVZhbHVlOiBhbnk7XHJcbiAgICBjaGlsZE5vZGVzOiBBcnJheTxhbnk+O1xyXG4gICAga2V5OiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IobmFtZTogYW55LCB0eXBlOiBzdHJpbmcsIHY6IGFueSApIHtcclxuICAgICAgICB0aGlzLm5vZGVOYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLm5vZGVUeXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLm5vZGVWYWx1ZSA9IHY7XHJcbiAgICAgICAgdGhpcy5jaGlsZE5vZGVzID0gQXJyYXk8YW55PigwKTtcclxuICAgIH1cclxufSIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBWTm9kZSBmcm9tICcuL3JlYWRhcHQtdmRvbS92bm9kZSc7XHJcbmltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGgobm9kZU5hbWU6IHN0cmluZyB8IENvbXBvbmVudCwgYXR0cmlidXRlczogYW55LCAuLi5jaGlsZHJlbikge1xyXG4gICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMgfHwge307XHJcbiAgICBjb25zdCBzdGFjayA9IEFycmF5PGFueT4oMCk7XHJcbiAgICBsZXQgY2hpbGQsIHAgPSBuZXcgVk5vZGUobm9kZU5hbWUsIHR5cGVvZiBub2RlTmFtZSA9PT0gJ2Z1bmN0aW9uJyA/ICdjb21wb25lbnQnIDogJ2VsZW1lbnQnLCAnJyk7XHJcblxyXG4gICAgY2hpbGRyZW4uZm9yRWFjaChjID0+IHN0YWNrLnVuc2hpZnQoYykpO1xyXG4gICAgaWYoYXR0cmlidXRlcyAmJiBhdHRyaWJ1dGVzLmNoaWxkcmVuICE9IG51bGwpIHtcclxuICAgICAgICBpZighc3RhY2subGVuZ3RoKSBzdGFjay5wdXNoKGF0dHJpYnV0ZXMuY2hpbGRyZW4pO1xyXG4gICAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzLmNoaWxkcmVuO1xyXG4gICAgfVxyXG5cclxuICAgIHdoaWxlKHN0YWNrLmxlbmd0aCkge1xyXG4gICAgICAgIGNoaWxkID0gc3RhY2sucG9wKCk7XHJcbiAgICAgICAgaWYoQXJyYXkuaXNBcnJheShjaGlsZCkpIGNoaWxkLmZvckVhY2goYyA9PiBzdGFjay51bnNoaWZ0KGMpKTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYoY2hpbGQgaW5zdGFuY2VvZiBWTm9kZSkgcC5jaGlsZE5vZGVzLnB1c2goY2hpbGQpO1xyXG4gICAgICAgICAgICBlbHNlIHAuY2hpbGROb2Rlcy5wdXNoKG5ldyBWTm9kZSgnI3RleHQnLCAndGV4dCcsIGNoaWxkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xyXG4gICAgcC5rZXkgPSBhdHRyaWJ1dGVzLmtleSA/IGF0dHJpYnV0ZXMua2V5IDogdW5kZWZpbmVkO1xyXG5cclxuICAgIHJldHVybiBwO1xyXG59OyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmV4cG9ydCBjb25zdCBBVFRSX0tFWSA9ICdfX3JlYWRhcHRfXyc7XHJcbmV4cG9ydCBjb25zdCBBU1lOQyA9IDM7XHJcbmV4cG9ydCBjb25zdCBTWU5DID0gMTtcclxuZXhwb3J0IGNvbnN0IE5PTkUgPSAwO1xyXG5leHBvcnQgY29uc3QgRk9SQ0UgPSAyOyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmV4cG9ydCBjb25zdCBET00gOiBhbnkgPSB7XHJcbiAgICBkb2N1bWVudDogbnVsbFxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vZGUobm9kZU5hbWU6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIERPTS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xyXG4gICAgY29uc3QgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcclxuICAgIGlmIChwYXJlbnROb2RlKSBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lTm9kZVR5cGUobm9kZTogYW55LCB2bm9kZTogYW55LCBoeWRyYXRpbmc6IGJvb2xlYW4pIHtcclxuICAgIGlmKCFub2RlKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZih2bm9kZS5ub2RlVHlwZSA9PT0gJ3RleHQnKSByZXR1cm4gbm9kZS5zcGxpdFRleHQ7XHJcbiAgICBpZih0eXBlb2Ygdm5vZGUubm9kZU5hbWUgPT09ICdzdHJpbmcnKSByZXR1cm4gIW5vZGUuX2NvbXBvbmVudCAmJiBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IHZub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgcmV0dXJuIGh5ZHJhdGluZyB8fCAobm9kZS5fY29tcG9uZW50ICYmIG5vZGUuX2NvbXBvbmVudC5jb25zdHJ1Y3RvciA9PT0gdm5vZGUubm9kZU5hbWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0QWNjZXNzb3Iobm9kZSwgbmFtZSwgb2xkLCB2YWx1ZSkge1xyXG4gICAgaWYobmFtZSA9PT0gJ2NsYXNzTmFtZScpIG5hbWUgPSAnY2xhc3MnO1xyXG4gICAgaWYobmFtZSA9PT0gJ2tleScpIHtcclxuICAgICAgICAvL2RvIG5vdGhpbmdcclxuICAgIH1cclxuICAgIGVsc2UgaWYobmFtZSA9PT0gJ3JlZicpIHtcclxuICAgICAgICBpZihvbGQpIG9sZChudWxsKTtcclxuICAgICAgICBpZih2YWx1ZSkgdmFsdWUobm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKG5hbWUgPT09ICdodG1sJykge1xyXG4gICAgICAgIGlmKG9sZCAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKG5hbWUgPT09ICdjbGFzcycpIHtcclxuICAgICAgICBpZighdmFsdWUgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBub2RlLmNsYXNzTmFtZSA9IHZhbHVlIHx8ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgaWYodHlwZW9mIG9sZCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSBpbiBvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShpIGluIHZhbHVlKSkgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSBpbiB2YWx1ZSkgIHtcclxuICAgICAgICAgICAgICAgIGlmKHZhbHVlW2ldKSBub2RlLmNsYXNzTGlzdC5hZGQoaSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYobmFtZSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGlmKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBvbGQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIG5vZGUuc3R5bGUuY3NzVGV4dCA9IHZhbHVlIHx8ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgaWYodHlwZW9mIG9sZCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSBpbiBvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShpIGluIHZhbHVlKSkgbm9kZS5zdHlsZVtpXSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Ugbm9kZS5zdHlsZS5jc3NUZXh0ID0gJyc7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSBpbiB2YWx1ZSkgbm9kZS5zdHlsZVtpXSA9IHZhbHVlW2ldIHx8ICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYobmFtZVswXSA9PT0gJ28nICYmIG5hbWVbMV0gPT09ICduJykge1xyXG4gICAgICAgIGxldCB1c2VDYXB0dXJlID0gbmFtZSAhPT0gKG5hbWUgPSBuYW1lLnJlcGxhY2UoL0NhcHR1cmUkLywgJycpKTtcclxuICAgICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygyKTtcclxuICAgICAgICBpZih2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZighb2xkKSBub2RlLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgdmFsdWUsIHVzZUNhcHR1cmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKG9sZCkgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIG9sZCwgdXNlQ2FwdHVyZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKG5hbWUgIT09ICdsaXN0JyAmJiBuYW1lICE9PSAndHlwZScgJiYgbmFtZSBpbiBub2RlKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbm9kZVtuYW1lXSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpZigodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gZmFsc2UpICYmIG5hbWUgIT09ICdzcGVsbGNoZWNrJykgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gZmFsc2UpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xyXG4gICAgICAgIGVsc2UgaWYodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XHJcbiAgICB9XHJcbn0iLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgQ29tcG9uZW50LCB7IGJ1aWxkQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50JztcclxuaW1wb3J0IFZOb2RlIGZyb20gJy4vdm5vZGUnO1xyXG5pbXBvcnQge0FUVFJfS0VZfSBmcm9tICcuLi9jb25zdGFudHMnO1xyXG5pbXBvcnQge2NyZWF0ZU5vZGUsIHNldEFjY2Vzc29yLCBpc1NhbWVOb2RlVHlwZSwgcmVtb3ZlTm9kZX0gZnJvbSAnLi4vcmVhZGFwdC1kb20vaW5kZXgnO1xyXG5pbXBvcnQge3VubW91bnRDb21wb25lbnR9IGZyb20gJy4uL2NvbXBvbmVudCc7XHJcbmltcG9ydCB7RE9NfSBmcm9tICcuLi9yZWFkYXB0LWRvbS9pbmRleCc7XHJcblxyXG5leHBvcnQgY29uc3QgaW5wdXRzIDogYW55ID0gW1xyXG4gICAgJ2lucHV0JyxcclxuICAgICd0ZXh0YXJlYScsXHJcbiAgICAnc2VsZWN0JyxcclxuICAgICdtZXRlcicsXHJcbiAgICAncHJvZ3Jlc3MnLFxyXG4gICAgJ2J1dHRvbidcclxuXTtcclxuXHJcbmV4cG9ydCBsZXQgaHlkcmF0aW5nID0gZmFsc2U7XHJcbmV4cG9ydCBsZXQgZGlmZkxldmVsID0gMDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaWZmKGRvbTogYW55LCBub2RlOiBWTm9kZSwgcGFyZW50OiBhbnksIHJvb3Q6IGJvb2xlYW4pIHtcclxuICAgIGxldCByZXQgOiBhbnkgPSBudWxsO1xyXG4gICAgaWYoIWRpZmZMZXZlbCsrKSBoeWRyYXRpbmcgPSBkb20gJiYgIWRvbVtBVFRSX0tFWV07XHJcblxyXG4gICAgcmV0ID0gaWRpZmYoZG9tLCBub2RlLCBwYXJlbnQsIHJvb3QpO1xyXG4gICAgaWYocGFyZW50ICYmIHJldC5wYXJlbnROb2RlICE9PSBwYXJlbnQpIHBhcmVudC5hcHBlbmRDaGlsZChyZXQpO1xyXG5cclxuICAgIGlmKCEtLWRpZmZMZXZlbCkge1xyXG4gICAgICAgIGh5ZHJhdGluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlkaWZmKGRvbTogYW55LCBub2RlOiBWTm9kZSwgcGFyZW50OiBhbnksIHJvb3Q6IGJvb2xlYW4pIHtcclxuICAgIGxldCBvdXQgOiBhbnkgPSBkb207XHJcbiAgICBpZihub2RlLm5vZGVWYWx1ZSA9PSBudWxsIHx8IHR5cGVvZiBub2RlLm5vZGVWYWx1ZSA9PT0gJ2Jvb2xlYW4nKSBub2RlLm5vZGVWYWx1ZSA9ICcnO1xyXG4gICAgaWYobm9kZS5ub2RlVHlwZSA9PT0gJ3RleHQnKSB7XHJcbiAgICAgICAgaWYoZG9tICYmIGRvbS5zcGxpdFRleHQgJiYgZG9tLnBhcmVudE5vZGUgJiYgKCFkb20uX2NvbXBvbmVudCB8fCByb290KSkge1xyXG4gICAgICAgICAgICBpZihkb20ubm9kZVZhbHVlICE9IG5vZGUubm9kZVZhbHVlKSBkb20ubm9kZVZhbHVlID0gbm9kZS5ub2RlVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvdXQgPSBET00uZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobm9kZS5ub2RlVmFsdWUpO1xyXG4gICAgICAgICAgICBpZihkb20pIHtcclxuICAgICAgICAgICAgICAgIGlmKGRvbS5wYXJlbnROb2RlKSBkb20ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQob3V0LCBkb20pO1xyXG4gICAgICAgICAgICAgICAgLy9yZWNvbGxlY3ROb2RlVHJlZVxyXG4gICAgICAgICAgICAgICAgcmVjb2xsZWN0Tm9kZVRyZWUoZG9tLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG91dFtBVFRSX0tFWV0gPSB7fTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBub2RlTmFtZSA6IGFueSA9IG5vZGUubm9kZU5hbWUsIG5yb290O1xyXG4gICAgaWYodHlwZW9mIG5vZGVOYW1lID09PSAnZnVuY3Rpb24nKSByZXR1cm4gYnVpbGRDb21wb25lbnQoZG9tLCBub2RlLCBwYXJlbnQpO1xyXG4gICAgaWYoIWRvbSB8fCBkb20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gbm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgIG91dCA9IGNyZWF0ZU5vZGUobm9kZU5hbWUpO1xyXG4gICAgICAgIGlmKGRvbSkge1xyXG4gICAgICAgICAgICB3aGlsZShkb20uZmlyc3RDaGlsZCkgb3V0LmFwcGVuZENoaWxkKGRvbS5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgaWYoZG9tLnBhcmVudE5vZGUpIGRvbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChvdXQsIGRvbSk7XHJcblxyXG4gICAgICAgICAgICAvL3JlY29sbGVjdFxyXG4gICAgICAgICAgICByZWNvbGxlY3ROb2RlVHJlZShkb20sIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgcHJvcHMgOiBhbnkgPSBvdXRbQVRUUl9LRVldO1xyXG4gICAgaWYoIXByb3BzKSB7XHJcbiAgICAgICAgcHJvcHMgPSBvdXRbQVRUUl9LRVldID0ge307XHJcbiAgICAgICAgb3V0LmdldEF0dHJpYnV0ZU5hbWVzKCkuZm9yRWFjaChuID0+IHByb3BzW25dID0gb3V0LmdldEF0dHJpYnV0ZShuKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGZjID0gb3V0LmZpcnN0Q2hpbGQsIGNoaWxkcmVuID0gbm9kZS5jaGlsZE5vZGVzO1xyXG4gICAgaWYoY2hpbGRyZW4ubGVuZ3RoIHx8IGZjKSBpbm5lckRpZmZOb2RlKG91dCwgY2hpbGRyZW4sIHJvb3QpO1xyXG5cclxuICAgIGRpZmZBdHRyaWJ1dGVzKG91dCwgbm9kZS5hdHRyaWJ1dGVzLCBwcm9wcyk7XHJcblxyXG4gICAgcmV0dXJuIG91dDtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5uZXJEaWZmTm9kZShkb20sIHZjaGlsZHJlbjogQXJyYXk8Vk5vZGU+LCByb290OiBib29sZWFuKSB7XHJcblx0bGV0IG9yaWdpbmFsQ2hpbGRyZW4gPSBkb20uY2hpbGROb2RlcyxcclxuXHRcdGNoaWxkcmVuID0gQXJyYXk8YW55PigpLFxyXG5cdFx0a2V5ZWQgPSB7fSxcclxuXHRcdGtleWVkTGVuID0gMCxcclxuXHRcdG1pbiA9IDAsXHJcblx0XHRsZW4gPSBvcmlnaW5hbENoaWxkcmVuLmxlbmd0aCxcclxuXHRcdGNoaWxkcmVuTGVuID0gMCxcclxuXHRcdHZsZW4gPSB2Y2hpbGRyZW4gPyB2Y2hpbGRyZW4ubGVuZ3RoIDogMCxcclxuXHRcdGosIGMsIGYsIHZjaGlsZCwgY2hpbGQ7XHJcblxyXG5cdC8vIEJ1aWxkIHVwIGEgbWFwIG9mIGtleWVkIGNoaWxkcmVuIGFuZCBhbiBBcnJheSBvZiB1bmtleWVkIGNoaWxkcmVuOlxyXG5cdGlmIChsZW4hPT0wKSB7XHJcblx0XHRmb3IgKGxldCBpPTA7IGk8bGVuOyBpKyspIHtcclxuXHRcdFx0bGV0IGNoaWxkID0gb3JpZ2luYWxDaGlsZHJlbltpXSxcclxuXHRcdFx0XHRwcm9wcyA9IGNoaWxkW0FUVFJfS0VZXSxcclxuXHRcdFx0XHRrZXkgPSB2bGVuICYmIHByb3BzID8gY2hpbGQuX2NvbXBvbmVudCA/IGNoaWxkLl9jb21wb25lbnQua2V5IDogcHJvcHMua2V5IDogbnVsbDtcclxuXHRcdFx0aWYgKGtleSE9bnVsbCkge1xyXG5cdFx0XHRcdGtleWVkTGVuKys7XHJcblx0XHRcdFx0a2V5ZWRba2V5XSA9IGNoaWxkO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYgKHByb3BzIHx8IChjaGlsZC5zcGxpdFRleHQhPT11bmRlZmluZWQgPyAoaHlkcmF0aW5nID8gY2hpbGQubm9kZVZhbHVlLnRyaW0oKSA6IHRydWUpIDogaHlkcmF0aW5nKSkge1xyXG5cdFx0XHRcdGNoaWxkcmVuW2NoaWxkcmVuTGVuKytdID0gY2hpbGQ7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmICh2bGVuIT09MCkge1xyXG5cdFx0Zm9yIChsZXQgaT0wOyBpPHZsZW47IGkrKykge1xyXG5cdFx0XHR2Y2hpbGQgPSB2Y2hpbGRyZW5baV07XHJcblx0XHRcdGNoaWxkID0gbnVsbDtcclxuXHJcblx0XHRcdC8vIGF0dGVtcHQgdG8gZmluZCBhIG5vZGUgYmFzZWQgb24ga2V5IG1hdGNoaW5nXHJcblx0XHRcdGxldCBrZXkgPSB2Y2hpbGQua2V5O1xyXG5cdFx0XHRpZiAoa2V5IT1udWxsKSB7XHJcblx0XHRcdFx0aWYgKGtleWVkTGVuICYmIGtleWVkW2tleV0hPT11bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdGNoaWxkID0ga2V5ZWRba2V5XTtcclxuXHRcdFx0XHRcdGtleWVkW2tleV0gPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRrZXllZExlbi0tO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBhdHRlbXB0IHRvIHBsdWNrIGEgbm9kZSBvZiB0aGUgc2FtZSB0eXBlIGZyb20gdGhlIGV4aXN0aW5nIGNoaWxkcmVuXHJcblx0XHRcdGVsc2UgaWYgKG1pbjxjaGlsZHJlbkxlbikge1xyXG5cdFx0XHRcdGZvciAoaj1taW47IGo8Y2hpbGRyZW5MZW47IGorKykge1xyXG5cdFx0XHRcdFx0aWYgKGNoaWxkcmVuW2pdIT09dW5kZWZpbmVkICYmIGlzU2FtZU5vZGVUeXBlKGMgPSBjaGlsZHJlbltqXSwgdmNoaWxkLCBoeWRyYXRpbmcpKSB7XHJcblx0XHRcdFx0XHRcdGNoaWxkID0gYztcclxuXHRcdFx0XHRcdFx0Y2hpbGRyZW5bal0gPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRcdGlmIChqPT09Y2hpbGRyZW5MZW4tMSkgY2hpbGRyZW5MZW4tLTtcclxuXHRcdFx0XHRcdFx0aWYgKGo9PT1taW4pIG1pbisrO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIG1vcnBoIHRoZSBtYXRjaGVkL2ZvdW5kL2NyZWF0ZWQgRE9NIGNoaWxkIHRvIG1hdGNoIHZjaGlsZCAoZGVlcClcclxuXHRcdFx0Y2hpbGQgPSBpZGlmZihjaGlsZCwgdmNoaWxkLCBkb20sIHJvb3QpO1xyXG5cclxuXHRcdFx0ZiA9IG9yaWdpbmFsQ2hpbGRyZW5baV07XHJcblx0XHRcdGlmIChjaGlsZCAmJiBjaGlsZCE9PWRvbSAmJiBjaGlsZCE9PWYpIHtcclxuXHRcdFx0XHRpZiAoZj09bnVsbCkge1xyXG5cdFx0XHRcdFx0ZG9tLmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoY2hpbGQ9PT1mLm5leHRTaWJsaW5nKSB7XHJcblx0XHRcdFx0XHRyZW1vdmVOb2RlKGYpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdGRvbS5pbnNlcnRCZWZvcmUoY2hpbGQsIGYpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdC8vIHJlbW92ZSB1bnVzZWQga2V5ZWQgY2hpbGRyZW46XHJcblx0aWYgKGtleWVkTGVuKSB7XHJcblx0XHRmb3IgKGxldCBpIGluIGtleWVkKSBpZiAoa2V5ZWRbaV0hPT11bmRlZmluZWQpIHJlY29sbGVjdE5vZGVUcmVlKGtleWVkW2ldLCBmYWxzZSk7XHJcblx0fVxyXG5cclxuXHQvLyByZW1vdmUgb3JwaGFuZWQgdW5rZXllZCBjaGlsZHJlbjpcclxuXHR3aGlsZSAobWluPD1jaGlsZHJlbkxlbikge1xyXG5cdFx0aWYgKChjaGlsZCA9IGNoaWxkcmVuW2NoaWxkcmVuTGVuLS1dKSE9PXVuZGVmaW5lZCkgcmVjb2xsZWN0Tm9kZVRyZWUoY2hpbGQsIGZhbHNlKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWNvbGxlY3ROb2RlVHJlZShub2RlOiBhbnksIHVubW91bnRPbmx5OiBib29sZWFuKSB7XHJcbiAgICBpZighbm9kZSkgcmV0dXJuO1xyXG4gICAgbGV0IGNvbXBvbmVudCA9IG5vZGUuX2NvbXBvbmVudDtcclxuICAgIGlmKGNvbXBvbmVudCkgdW5tb3VudENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgaWYobm9kZVtBVFRSX0tFWV0gJiYgbm9kZVtBVFRSX0tFWV0ucmVmKSBub2RlW0FUVFJfS0VZXS5yZWYobnVsbCk7XHJcbiAgICBpZih1bm1vdW50T25seSA9PT0gZmFsc2UgfHwgbm9kZVtBVFRSX0tFWV0pIHJlbW92ZU5vZGUobm9kZSk7XHJcbiAgICByZW1vdmVDaGlsZHJlbihub2RlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKG5vZGU6IGFueSkge1xyXG4gICAgbm9kZSA9IG5vZGUubGFzdENoaWxkO1xyXG4gICAgd2hpbGUobm9kZSkge1xyXG4gICAgICAgIGxldCBuZXh0ID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XHJcbiAgICAgICAgcmVjb2xsZWN0Tm9kZVRyZWUobm9kZSwgdHJ1ZSk7XHJcbiAgICAgICAgbm9kZSA9IG5leHQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRpZmZBdHRyaWJ1dGVzKGRvbTogYW55LCBhdHRyczogYW55LCBvbGQ6IGFueSkge1xyXG4gICAgbGV0IG5hbWU7XHJcbiAgICBmb3IobmFtZSBpbiBvbGQpIHtcclxuICAgICAgICBpZighKGF0dHJzICYmIGF0dHJzW25hbWVdICE9IG51bGwpICYmIG9sZFtuYW1lXSAhPSBudWxsKSBzZXRBY2Nlc3Nvcihkb20sIG5hbWUsIG9sZCwgb2xkW25hbWVdID0gdW5kZWZpbmVkKTtcclxuICAgIH1cclxuICAgIGZvcihuYW1lIGluIGF0dHJzKSB7XHJcbiAgICAgICAgaWYobmFtZSAhPT0gJ2NoaWxkcmVuJyAmJiBuYW1lICE9PSAnaW5uZXJIVE1MJyBcclxuICAgICAgICAgICAgJiYgKGF0dHJzW25hbWVdICE9PSAoKG5hbWUgPT09ICd2YWx1ZScgfHwgbmFtZSA9PT0gJ2NoZWNrZWQnKSA/IGRvbVtuYW1lXSA6IG9sZFtuYW1lXSkpKSBzZXRBY2Nlc3Nvcihkb20sIG5hbWUsIG9sZFtuYW1lXSwgb2xkW25hbWVdID0gYXR0cnNbbmFtZV0pOyBcclxuICAgIH1cclxufSIsIid1c2Ugc3RyaWN0JztcclxuaW1wb3J0IHtyZW1vdmVOb2RlfSBmcm9tICcuL3JlYWRhcHQtZG9tL2luZGV4JztcclxuaW1wb3J0IFZOb2RlIGZyb20gJy4vcmVhZGFwdC12ZG9tL3Zub2RlJztcclxuaW1wb3J0IHsgQVRUUl9LRVksIEFTWU5DLCBTWU5DIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBkaWZmLCByZWNvbGxlY3ROb2RlVHJlZSB9IGZyb20gJy4vcmVhZGFwdC12ZG9tL2RpZmYnO1xyXG5pbXBvcnQgeyBkaWZmTGV2ZWx9IGZyb20gJy4vcmVhZGFwdC12ZG9tL2RpZmYnO1xyXG5pbXBvcnQgeyBlbnF1ZXVlIH0gZnJvbSAnLi9yZW5kZXInO1xyXG5cclxuZXhwb3J0IGNvbnN0IERFRkVSX1BST01JU0UgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpO1xyXG5leHBvcnQgY29uc3QgREVGRVJfVElNRU9VVCA9IHNldFRpbWVvdXQ7XHJcbmV4cG9ydCBjb25zdCBERUZFUl9BTklNQVRJT04gPSB0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lICE9PSAndW5kZWZpbmVkJyA/IHJlcXVlc3RBbmltYXRpb25GcmFtZSA6IERFRkVSX1BST01JU0U7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnQge1xyXG4gICAga2V5OiBhbnk7XHJcbiAgICByZWY6IGFueTtcclxuICAgIGRpc2FibGVkOiBib29sZWFuO1xyXG4gICAgcGFyZW50IDogYW55O1xyXG4gICAgYmFzZTogYW55O1xyXG4gICAgcmVuZGVyTW9kZTogTnVtYmVyO1xyXG4gICAgY2hpbGQ6IGFueTtcclxuICAgIGFzeW5jTWV0aG9kOiBhbnk7XHJcbiAgICBwYXJlbnROb2RlOiBhbnk7XHJcbiAgICBjaGlsZHJlbjogQXJyYXk8YW55PjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogYW55LCBwYXJlbnQ6IENvbXBvbmVudCwgcmVuZGVyTW9kZTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMua2V5ID0gcHJvcHMua2V5O1xyXG4gICAgICAgIHRoaXMucmVmID0gcHJvcHMucmVmO1xyXG4gICAgICAgIHRoaXMuYXN5bmNNZXRob2QgPSBERUZFUl9QUk9NSVNFO1xyXG4gICAgICAgIHRoaXMucmVuZGVyTW9kZSA9IHJlbmRlck1vZGUgfHwgU1lOQztcclxuICAgICAgICB0aGlzLmNoaWxkID0gbnVsbDtcclxuICAgICAgICB0aGlzLmJhc2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGRlbGV0ZSBwcm9wcy5yZWY7XHJcbiAgICAgICAgZGVsZXRlIHByb3BzLmtleTtcclxuICAgXHJcbiAgICAgICAgdGhpcy5vYnNlcnZlKHByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgb25DaGFuZ2Uoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIHByZXZpb3VzOiBhbnkpIHtcclxuICAgICAgICBpZih0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZShrZXksdmFsdWUscHJldmlvdXMpKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucmVuZGVyTW9kZSA9PT0gU1lOQykgcmVuZGVyQ29tcG9uZW50KHRoaXMsIHRoaXMucGFyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5yZW5kZXJNb2RlID09PSBBU1lOQykgZW5xdWV1ZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yY2VVcGRhdGUoKSB7XHJcbiAgICAgICAgcmVuZGVyQ29tcG9uZW50KHRoaXMsIHRoaXMucGFyZW50Tm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZpb3VzKSA6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIDogYW55IHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSA6IHZvaWQge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIDogdm9pZCB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzaG91bGRDb21wb25lbnRVcGRhdGUoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIHByZXZpb3VzOiBhbnkpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9ic2VydmUobzogT2JqZWN0KSB7XHJcbiAgICAgICAgZm9yKGxldCBrIGluIG8pIHtcclxuICAgICAgICAgICAgbGV0IHYgOiBhbnkgPSBvW2tdO1xyXG5cclxuICAgICAgICAgICAgaWYodHlwZW9mIHYgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXNba10gPSB2O1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBgXFwkJHtrfWAsIHt2YWx1ZTogdiwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIGssIHtcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbYFxcJCR7a31gXTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQobnY6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXYgPSB0aGlzW2BcXCQke2t9YF07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tgXFwkJHtrfWBdID0gbnY7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLmRpc2FibGVkICYmIHByZXYgIT09IG52KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoayxudixwcmV2KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudChjb21wb25lbnQ6IENvbXBvbmVudCwgcGFyZW50Tm9kZTogYW55KSB7XHJcbiAgICBsZXQgaXNVcGRhdGUgPSBjb21wb25lbnQuYmFzZSwgcCwgcHJvcHMsIHByZXZpb3VzUHJvcHMsIHJlbmRlcmVkLCB0b1VubW91bnQsIGNiYXNlLCBpbnN0LCBiYXNlLCB3cmFwLCB0eXBlO1xyXG4gICAgaWYoY29tcG9uZW50LmRpc2FibGVkKSByZXR1cm47XHJcblxyXG4gICAgcmVuZGVyZWQgPSBjb21wb25lbnQucmVuZGVyKCk7XHJcblxyXG4gICAgaWYoIXJlbmRlcmVkIHx8IEFycmF5LmlzQXJyYXkocmVuZGVyZWQpKSB7XHJcbiAgICAgICAgaWYoY29tcG9uZW50LmJhc2UpIHtcclxuICAgICAgICAgICAgcmVjb2xsZWN0Tm9kZVRyZWUoY29tcG9uZW50LmJhc2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgY29tcG9uZW50LmJhc2UgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50LnBhcmVudE5vZGUgPSBwYXJlbnROb2RlO1xyXG4gICAgY2Jhc2UgPSBiYXNlID0gY29tcG9uZW50LmJhc2U7XHJcblxyXG4gICAgaWYodHlwZW9mIHJlbmRlcmVkLm5vZGVOYW1lID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgcHJvcHMgPSByZW5kZXJlZC5hdHRyaWJ1dGVzO1xyXG4gICAgICAgIGluc3QgPSBjb21wb25lbnQuY2hpbGQ7XHJcbiAgICAgICAgaWYoaW5zdCAmJiBpbnN0LmNvbnN0cnVjdG9yID09PSByZW5kZXJlZC5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICBwcmV2aW91c1Byb3BzID0gaW5zdC5iYXNlID8gT2JqZWN0LmFzc2lnbih7fSwgaW5zdC5iYXNlW0FUVFJfS0VZXSkgOiB7fTtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlID0gcHJlcGFyZVJlbmRlcihpbnN0LCBwcm9wcywgcmVuZGVyZWQuY2hpbGROb2Rlcyk7XHJcbiAgICAgICAgICAgIGlmKHVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyQ29tcG9uZW50KGluc3QsIGluc3QucGFyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICBpbnN0LmNvbXBvbmVudERpZFVwZGF0ZShwcmV2aW91c1Byb3BzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdG9Vbm1vdW50ID0gaW5zdDsgdHlwZSA9IHJlbmRlcmVkLm5vZGVOYW1lO1xyXG4gICAgICAgICAgICBpZighdG9Vbm1vdW50ICYmIGNiYXNlKSByZWNvbGxlY3ROb2RlVHJlZShjYmFzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICBjb21wb25lbnQuY2hpbGQgPSBpbnN0ID0gbmV3IHR5cGUocHJvcHMsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIGluc3QuY2hpbGRyZW4gPSByZW5kZXJlZC5jaGlsZE5vZGVzO1xyXG4gICAgICAgICAgICBpZihpbnN0LnJlZikgaW5zdC5yZWYoaW5zdCk7XHJcbiAgICAgICAgICAgIHJlbmRlckNvbXBvbmVudChpbnN0LCBjb21wb25lbnQucGFyZW50Tm9kZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBiYXNlID0gaW5zdC5iYXNlO1xyXG4gICAgfVxyXG4gICAgaWYodHlwZW9mIHJlbmRlcmVkLm5vZGVOYW1lICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgdG9Vbm1vdW50ID0gY29tcG9uZW50LmNoaWxkO1xyXG4gICAgICAgIGlmKHRvVW5tb3VudCkgY2Jhc2UgPSBjb21wb25lbnQuY2hpbGQgPSBudWxsO1xyXG4gICAgICAgIGJhc2UgPSBkaWZmKGNiYXNlLCByZW5kZXJlZCwgY29tcG9uZW50LnBhcmVudE5vZGUsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGNiYXNlICYmIGJhc2UgIT09IGNiYXNlICYmIGluc3QgIT09IGNvbXBvbmVudC5jaGlsZCkge1xyXG4gICAgICAgIHAgPSBjYmFzZS5wYXJlbnROb2RlO1xyXG4gICAgICAgIGlmKHAgJiYgYmFzZSAhPT0gcCkge1xyXG4gICAgICAgICAgICBwLnJlcGxhY2VDaGlsZChiYXNlLCBjYmFzZSk7XHJcblxyXG4gICAgICAgICAgICBpZighdG9Vbm1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBiYXNlLl9jb21wb25lbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmVjb2xsZWN0Tm9kZVRyZWUoY2Jhc2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZih0b1VubW91bnQpIHVubW91bnRDb21wb25lbnQodG9Vbm1vdW50KTtcclxuXHJcbiAgICBjb21wb25lbnQuYmFzZSA9IGJhc2U7XHJcbiAgICBpZihiYXNlICYmICFjb21wb25lbnQuY2hpbGQpIGJhc2UuX2NvbXBvbmVudCA9IGNvbXBvbmVudDtcclxuICAgIGlmKCFpc1VwZGF0ZSkge1xyXG4gICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRNb3VudCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVJlbmRlcihpbnN0OiBDb21wb25lbnQsIHByb3BzOiBhbnksIGNoaWxkcmVuOiBBcnJheTxhbnk+KSA6IGJvb2xlYW4ge1xyXG4gICAgbGV0IGRpZmYgPSBmYWxzZTtcclxuICAgIGlmKGluc3QucmVmKSBpbnN0LnJlZihpbnN0KTtcclxuICAgIGluc3QuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuXHJcbiAgICBpbnN0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGZvcihsZXQgbiBpbiBwcm9wcykge1xyXG4gICAgICAgIGlmKGluc3Rbbl0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZihpbnN0W25dICE9PSBwcm9wc1tuXSkgZGlmZiA9IHRydWU7XHJcbiAgICAgICAgICAgIGluc3Rbbl0gPSBwcm9wc1tuXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbnN0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICByZXR1cm4gZGlmZjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVubW91bnRDb21wb25lbnQoY29tcG9uZW50OiBDb21wb25lbnQpIHtcclxuICAgIGNvbnN0IGJhc2UgPSBjb21wb25lbnQuYmFzZTtcclxuICAgIGNvbXBvbmVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBjb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQoKTtcclxuICAgIGNvbXBvbmVudC5iYXNlID0gbnVsbDtcclxuICAgIGlmKGNvbXBvbmVudC5jaGlsZCkgdW5tb3VudENvbXBvbmVudChjb21wb25lbnQuY2hpbGQpO1xyXG4gICAgY29tcG9uZW50LnBhcmVudCA9IG51bGw7XHJcbiAgICBjb21wb25lbnQuY2hpbGQgPSBudWxsO1xyXG4gICAgaWYoYmFzZSkge1xyXG4gICAgICAgIGJhc2UuX2NvbXBvbmVudCA9IG51bGw7XHJcbiAgICAgICAgaWYoYmFzZVtBVFRSX0tFWV0gJiYgYmFzZVtBVFRSX0tFWV0ucmVmKSBiYXNlW0FUVFJfS0VZXS5yZWYobnVsbCk7XHJcblxyXG4gICAgICAgIHJlY29sbGVjdE5vZGVUcmVlKGJhc2UsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIGlmKGNvbXBvbmVudC5yZWYpIGNvbXBvbmVudC5yZWYobnVsbCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZENvbXBvbmVudChkb206IGFueSwgbm9kZTogVk5vZGUsIHBhcmVudE5vZGU6IGFueSkge1xyXG4gICAgbGV0IGMgPSBkb20gJiYgZG9tLl9jb21wb25lbnQsXHJcbiAgICAgICAgaXNEaXJlY3RPd25lciA9IGMgJiYgYy5jb25zdHJ1Y3RvciA9PT0gbm9kZS5ub2RlTmFtZSxcclxuICAgICAgICBwcm9wcyA9IG5vZGUuYXR0cmlidXRlcyxcclxuICAgICAgICB0eXBlID0gbm9kZS5ub2RlTmFtZSxcclxuICAgICAgICBwcmV2aW91c1Byb3BzID0gZG9tID8gT2JqZWN0LmFzc2lnbih7fSwgZG9tW0FUVFJfS0VZXSkgOiB7fTtcclxuXHJcbiAgICBpZihpc0RpcmVjdE93bmVyICYmIGMpIHtcclxuICAgICAgICBjb25zdCB1cGRhdGUgPSBwcmVwYXJlUmVuZGVyKGMsIHByb3BzLCBub2RlLmNoaWxkTm9kZXMpO1xyXG4gICAgICAgIGlmKHVwZGF0ZSkge1xyXG4gICAgICAgICAgICByZW5kZXJDb21wb25lbnQoYywgcGFyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgIGMuY29tcG9uZW50RGlkVXBkYXRlKHByZXZpb3VzUHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb20gPSBjLmJhc2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZWNvbGxlY3ROb2RlVHJlZShkb20sIGZhbHNlKTtcclxuICAgICAgICBjID0gbmV3IHR5cGUocHJvcHMsIG51bGwpO1xyXG4gICAgICAgIGMuY2hpbGRyZW4gPSBub2RlLmNoaWxkTm9kZXM7XHJcbiAgICAgICAgaWYoYy5yZWYpIGMucmVmKGMpO1xyXG4gICAgICAgIHJlbmRlckNvbXBvbmVudChjLCBwYXJlbnROb2RlKTtcclxuICAgICAgICBkb20gPSBjLmJhc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBkb207XHJcbn0iLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgQ29tcG9uZW50LCB7IERFRkVSX1BST01JU0UsIHJlbmRlckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50JztcclxuaW1wb3J0IFZOb2RlIGZyb20gJy4vcmVhZGFwdC12ZG9tL3Zub2RlJztcclxuaW1wb3J0IHsgZGlmZiB9IGZyb20gJy4vcmVhZGFwdC12ZG9tL2RpZmYnO1xyXG5cclxubGV0IHJlbmRlclF1ZXVlID0gQXJyYXk8Q29tcG9uZW50PigwKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGVucXVldWUoY29tcG9uZW50OiBDb21wb25lbnQpIHtcclxuICAgIHJlbmRlclF1ZXVlLnVuc2hpZnQoY29tcG9uZW50KTtcclxuICAgIChjb21wb25lbnQuYXN5bmNNZXRob2QgfHwgREVGRVJfUFJPTUlTRSkoKCkgPT4ge1xyXG4gICAgICAgIGxldCBwLCBsaXN0ID0gcmVuZGVyUXVldWU7XHJcbiAgICAgICAgcmVuZGVyUXVldWUgPSBBcnJheTxDb21wb25lbnQ+KDApOyAgICAgICAgICAgXHJcbiAgICAgICAgd2hpbGUoKHAgPSBsaXN0LnBvcCgpKSkgcmVuZGVyQ29tcG9uZW50KHAsIHAucGFyZW50Tm9kZSk7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShub2RlOiBWTm9kZSwgcGFyZW50OiBhbnkpIHtcclxuICAgIHJldHVybiByZW5kZXIobm9kZSwgcGFyZW50LCBwYXJlbnQuZmlyc3RFbGVtZW50Q2hpbGQpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIobm9kZTogVk5vZGUsIHBhcmVudDogYW55LCBtZXJnZTogYW55KSB7XHJcbiAgICByZXR1cm4gZGlmZihtZXJnZSwgbm9kZSwgcGFyZW50LCB0cnVlKTtcclxufSIsIid1c2Ugc3RyaWN0JztcclxuaW1wb3J0IHtoLCBoIGFzIGNyZWF0ZUVsZW1lbnR9IGZyb20gJy4vaCc7XHJcbmltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xyXG5pbXBvcnQge0RPTX0gZnJvbSAnLi9yZWFkYXB0LWRvbS9pbmRleCc7XHJcbmltcG9ydCB7cmVuZGVyLCBoeWRyYXRlfSBmcm9tICcuL3JlbmRlcic7XHJcblxyXG5ET00uZG9jdW1lbnQgPSBkb2N1bWVudDtcclxud2luZG93LmggPSBoO1xyXG53aW5kb3cuQ29tcG9uZW50ID0gQ29tcG9uZW50O1xyXG53aW5kb3cuUmVhZGFwdCA9IHtcclxuICAgIHJlbmRlcjogcmVuZGVyLFxyXG4gICAgaHlkcmF0ZTogaHlkcmF0ZVxyXG59O1xyXG53aW5kb3cuUmVhY3QgPSB7XHJcbiAgICBjcmVhdGVFbGVtZW50OiBjcmVhdGVFbGVtZW50LFxyXG4gICAgcmVuZGVyOiByZW5kZXIsXHJcbiAgICBoeWRyYXRlOiBoeWRyYXRlXHJcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==