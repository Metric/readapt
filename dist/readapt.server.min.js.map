{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/readapt-vdom/vnode.ts","webpack:///./src/h.ts","webpack:///./src/readapt-dom/index.ts","webpack:///./src/constants.ts","webpack:///./src/readapt-vdom/diff.ts","webpack:///./src/component.ts","webpack:///./src/render.ts","webpack:///./src/readapt-vdom/classlist.ts","webpack:///./src/readapt-vdom/node.ts","webpack:///./src/readapt-vdom/partialrenderer.ts","webpack:///./src/server.js","webpack:///./src/readapt-vdom/document.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","VNode","[object Object]","type","v","this","nodeName","nodeType","nodeValue","childNodes","Array","offset","h","attributes","children","stack","child","forEach","unshift","length","push","pop","isArray","undefined","DOM","document","removeNode","node","parentNode","removeChild","isSameNodeType","vnode","hydrating","splitText","_component","toLowerCase","constructor","setAccessor","old","classList","remove","add","style","cssText","useCapture","replace","substring","addEventListener","removeEventListener","e","removeAttribute","setAttribute","ATTR_KEY","ASYNC","SYNC","mounts","diffLevel","flushMounts","didMount","diff","dom","parent","root","ret","idiff","appendChild","out","createTextNode","replaceChild","recollectNodeTree","isDirectOwner","props","prepareRender","renderComponent","base","ref","buildComponent","createElement","createNode","firstChild","assign","getAttributeNames","getAttribute","fc","vchildren","originalChildren","innerDiffNode","attrs","diffAttributes","unmountOnly","component","unmountComponent","lastChild","next","previousSibling","removeChildren","renderQueue","render","merge","DEFER_PROMISE","Promise","resolve","then","setTimeout","requestAnimationFrame","rendered","toUnmount","cbase","inst","wrap","isUpdate","disabled","beforeRender","renderMode","afterRender","beforeUnmount","willUnmount","ClassList","classes","includes","contains","idx","indexOf","splice","fn","list","node_NodeImpl","split","filter","b","items","textContent","str","all","event","capture","keys","nextSibling","target","deep","cloneNode","attr","clone","UPPER_REGEX","MS_REGEX","MOZ_REGEX","styleCache","VOID_ELEMENTS","PartialRenderer","innerHTML","startTag","styleString","classString","attributeString","startTagEnd","renderToString","endTag","stream","write","renderToStream","end","delimiter","styles","styleName","cache","body","txt","Component","writable","observe","previous","shouldRender","asyncMethod","enqueue","k","nv","prev","onChange","ReAdapt","React"],"mappings":"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","file":"readapt.server.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","'use strict';\r\nexport default class VNode {\r\n    attributes: any;\r\n    nodeName: any;\r\n    nodeType: string;\r\n    nodeValue: any;\r\n    childNodes: Array<any>;\r\n    key: any;\r\n    offset: Number;\r\n\r\n    constructor(name: any, type: string, v: any ) {\r\n        this.nodeName = name;\r\n        this.nodeType = type;\r\n        this.nodeValue = v;\r\n        this.childNodes = Array<any>(0);\r\n        this.offset = 0;\r\n    }\r\n}","'use strict';\r\n\r\nimport VNode from './readapt-vdom/vnode';\r\nimport Component from './component';\r\n\r\nexport function h(nodeName: string | Component, attributes: any, ...children) {\r\n    const stack = Array<any>(0);\r\n    let child, p = new VNode(nodeName, typeof nodeName === 'function' ? 'component' : 'element', '');\r\n\r\n    children.forEach(c => stack.unshift(c));\r\n    if(attributes && attributes.children != null) {\r\n        if(!stack.length) stack.push(attributes.children);\r\n        delete attributes.children;\r\n    }\r\n\r\n    while(stack.length) {\r\n        child = stack.pop();\r\n        if(Array.isArray(child)) child.forEach(c => stack.unshift(c));\r\n        else {\r\n            if(child instanceof VNode) p.childNodes.push(child);\r\n            else p.childNodes.push(new VNode('#text', 'text', child));\r\n        }\r\n    }\r\n    \r\n    p.attributes = attributes;\r\n    p.key = attributes.key ? attributes.key : undefined;\r\n\r\n    return p;\r\n};","'use strict';\r\n\r\nexport const DOM : any = {\r\n    document: null\r\n};\r\n\r\nexport function createNode(nodeName: string) {\r\n    return DOM.document.createElement(nodeName);\r\n}\r\n\r\nexport function removeNode(node) {\r\n    const parentNode = node.parentNode;\r\n    if (parentNode) parentNode.removeChild(node);\r\n}\r\n\r\nexport function isSameNodeType(node: any, vnode: any, hydrating: boolean) {\r\n    if(!node) return false;\r\n    if(vnode.nodeType === 'text') return node.splitText;\r\n    if(typeof vnode.nodeName === 'string') return !node._component && node.nodeName.toLowerCase() === vnode.nodeName.toLowerCase();\r\n\r\n    return hydrating || (node._component && node._component.constructor === vnode.nodeName);\r\n}\r\n\r\nexport function setAccessor(node, name, old, value) {\r\n    if(name === 'className') name = 'class';\r\n    if(name === 'key') {\r\n        //do nothing\r\n    }\r\n    else if(name === 'ref') {\r\n        if(old) old(null);\r\n        if(value) value(node);\r\n    }\r\n    else if(name === 'class') {\r\n        if(!value || typeof value === 'string' || typeof old === 'string') {\r\n            node.classList.remove(old);\r\n            node.classList.add(value);\r\n        }\r\n        if(value && typeof value === 'object') {\r\n            if(typeof old !== 'string') {\r\n                for(let i in old) {\r\n                    if (!(i in value)) node.classList.remove(old[i]);\r\n                }\r\n            }\r\n            else node.classList.remove(old);\r\n            for(let i in value) node.classList.add(value[i]);\r\n        }\r\n    }\r\n    else if(name === 'style') {\r\n        if(!value || typeof value === 'string' || typeof old === 'string') {\r\n            node.style.cssText = value || '';\r\n        }\r\n        if(value && typeof value === 'object') {\r\n            if(typeof old !== 'string') {\r\n                for(let i in old) {\r\n                    if (!(i in value)) node.style[i] = '';\r\n                }\r\n            }\r\n            else node.style.cssText = '';\r\n            for(let i in value) node.style[i] = value[i] || '';\r\n        }\r\n    }\r\n    else if(name[0] === 'o' && name[1] === 'n') {\r\n        let useCapture = name !== (name = name.replace(/Capture$/, ''));\r\n        name = name.toLowerCase().substring(2);\r\n        if(value) {\r\n            if(!old) node.addEventListener(name, value, useCapture);\r\n        }\r\n        else if(old) node.removeEventListener(name, old, useCapture);\r\n    }\r\n    else if(name !== 'list' && name !== 'type' && name in node) {\r\n        try {\r\n            node[name] = value == null ? '' : value;\r\n        }\r\n        catch (e) {\r\n            if((value == null || value === false) && name !== 'spellcheck') node.removeAttribute(name);\r\n        }\r\n    }\r\n    else {\r\n        if(value == null || value === false) node.removeAttribute(name);\r\n        else if(typeof value !== 'function') node.setAttribute(name, value);\r\n    }\r\n}","'use strict';\r\n\r\nexport const ATTR_KEY = '__readapt__';\r\nexport const ASYNC = 3;\r\nexport const SYNC = 1;\r\nexport const NONE = 0;\r\nexport const FORCE = 2;","'use strict';\r\n\r\nimport Component, { buildComponent } from '../component';\r\nimport VNode from './vnode';\r\nimport {ATTR_KEY} from '../constants';\r\nimport {createNode, setAccessor, isSameNodeType, removeNode} from '../readapt-dom/index';\r\nimport {unmountComponent} from '../component';\r\nimport {DOM} from '../readapt-dom/index';\r\n\r\nexport const inputs : any = [\r\n    'input',\r\n    'textarea',\r\n    'select',\r\n    'meter',\r\n    'progress',\r\n    'button'\r\n];\r\n\r\nexport const mounts = Array<Component>(0);\r\nexport let hydrating = false;\r\nexport let diffLevel = 0;\r\nexport function flushMounts() {\r\n    let c : Component | undefined;\r\n    while((c = mounts.pop())) c.didMount();\r\n}\r\n\r\nexport function diff(dom: any, node: VNode, parent: any, root: boolean) {\r\n    let ret : any = null;\r\n    if(!diffLevel++) hydrating = dom && !dom[ATTR_KEY];\r\n\r\n    ret = idiff(dom, node, parent, root);\r\n    if(parent && ret.parentNode !== parent) parent.appendChild(ret);\r\n\r\n    if(!--diffLevel) {\r\n        hydrating = false;\r\n        if(!root) flushMounts();\r\n    }\r\n\r\n    return ret;\r\n}\r\n\r\nfunction idiff(dom: any, node: VNode, parent: any, root: boolean) {\r\n    let out : any = dom;\r\n    if(node.nodeValue == null || typeof node.nodeValue === 'boolean') node.nodeValue = '';\r\n    if(node.nodeType === 'text') {\r\n        if(dom && dom.splitText && dom.parentNode && (!dom._component || root)) {\r\n            if(dom.nodeValue != node.nodeValue) dom.nodeValue = node.nodeValue;\r\n        }\r\n        else {\r\n            out = DOM.document.createTextNode(node.nodeValue);\r\n            if(dom) {\r\n                if(dom.parentNode) dom.parentNode.replaceChild(out, dom);\r\n                //recollectNodeTree\r\n                recollectNodeTree(dom, true);\r\n            }\r\n        }\r\n\r\n        out[ATTR_KEY] = {};\r\n        return out;\r\n    }\r\n\r\n    let nodeName : any = node.nodeName, nroot;\r\n    if(typeof nodeName === 'function') return buildComponent(dom, node, parent);\r\n    if(!dom || dom.nodeName.toLowerCase() !== nodeName.toLowerCase()) {\r\n        out = createNode(nodeName);\r\n        if(dom) {\r\n            while(dom.firstChild) out.appendChild(dom.firstChild);\r\n            if(dom.parentNode) dom.parentNode.replaceChild(out, dom);\r\n\r\n            //recollect\r\n            recollectNodeTree(dom, true);\r\n        }\r\n    }\r\n    let props : any = out[ATTR_KEY];\r\n    if(!props) {\r\n        props = out[ATTR_KEY] = {};\r\n        if(out instanceof VNode) props = Object.assign(props, out.attributes);\r\n        else out.getAttributeNames().forEach(n => props[n] = out.getAttribute(n));\r\n    }\r\n\r\n    let fc = out.firstChild, children = node.childNodes;\r\n    if(children.length || fc) innerDiffNode(out, children, root);\r\n\r\n    diffAttributes(out, node.attributes, props);\r\n\r\n    return out;\r\n}\r\n\r\nfunction innerDiffNode(dom, vchildren: Array<VNode>, root: boolean) {\r\n    let originalChildren = dom.childNodes,d,m,n,\r\n    children = Array<any>();\r\n    for(let i = 0; i < originalChildren.length; i++) children.push(originalChildren[i]);\r\n    if(vchildren.length <= children.length) {\r\n        for(let i = 0; i < vchildren.length; i++) {\r\n            n = vchildren[i]; m = children[i];\r\n            if(isSameNodeType(m, n, hydrating)) {\r\n                d = idiff(m, n, dom, root);\r\n                if(d && d !== dom && d !== m) dom.replaceChild(d, m);\r\n                else if(d !== dom && d !== m) dom.appendChild(d);\r\n            }\r\n            else {\r\n                d = idiff(null, n, dom, root);\r\n                if(m) dom.replaceChild(d, m);\r\n                else dom.appendChild(d);\r\n            }  \r\n        }\r\n        for(let i = vchildren.length; i < children.length; i++) recollectNodeTree(children[i], false);\r\n    }\r\n    else {\r\n        for(let i = 0; i < vchildren.length; i++) {\r\n            n = vchildren[i]; m = children[i];\r\n            if(i >= children.length) {\r\n                d = idiff(null, n, dom, root);\r\n                dom.appendChild(d);\r\n            }\r\n            else {\r\n                if(isSameNodeType(m,n,hydrating)) {\r\n                    d = idiff(m,n, dom, root);\r\n                    if(d && d !== dom && d !== m) dom.replaceChild(d, m);\r\n                    else if(d !== dom && d !== m) dom.appendChild(d);\r\n                }\r\n                else {\r\n                    d = idiff(null, n, dom, root);\r\n                    if(m) dom.replaceChild(d,m);\r\n                    else dom.appendChild(d);\r\n                }  \r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function recollectNodeTree(node: any, unmountOnly: boolean) {\r\n    if(!node) return;\r\n    let component = node._component;\r\n    if(component) unmountComponent(component);\r\n    else {\r\n        if(node[ATTR_KEY] && node[ATTR_KEY].ref) node[ATTR_KEY].ref(null);\r\n        if(unmountOnly === false || node[ATTR_KEY]) removeNode(node);\r\n        removeChildren(node);\r\n    }\r\n}\r\n\r\nexport function removeChildren(node: any) {\r\n    node = node.lastChild;\r\n    while(node) {\r\n        let next = node.previousSibling;\r\n        recollectNodeTree(node, true);\r\n        node = next;\r\n    }\r\n}\r\n\r\nfunction diffAttributes(dom: any, attrs: any, old: any) {\r\n    let name;\r\n    for(name in old) {\r\n        if(!(attrs && attrs[name] != null) && old[name] != null) setAccessor(dom, name, old, old[name] = undefined);\r\n    }\r\n    for(name in attrs) {\r\n        if(name !== 'children' && name !== 'innerHTML' \r\n            && (attrs[name] !== ((name === 'value' || name === 'checked') ? dom[name] : old[name]))) setAccessor(dom, name, old[name], old[name] = attrs[name]); \r\n    }\r\n}","'use strict';\r\nimport {removeNode} from './readapt-dom/index';\r\nimport VNode from './readapt-vdom/vnode';\r\nimport { ATTR_KEY, ASYNC, SYNC } from './constants';\r\nimport { diff, recollectNodeTree, flushMounts } from './readapt-vdom/diff';\r\nimport { mounts, diffLevel} from './readapt-vdom/diff';\r\nimport { enqueue } from './render';\r\n\r\nexport const DEFER_PROMISE = Promise.resolve().then.bind(Promise.resolve());\r\nexport const DEFER_TIMEOUT = setTimeout;\r\nexport const DEFER_ANIMATION = typeof requestAnimationFrame !== 'undefined' ? requestAnimationFrame : DEFER_PROMISE;\r\n\r\nexport default class Component {\r\n    key: any;\r\n    ref: any;\r\n    disabled: boolean;\r\n    parent : any;\r\n    base: any;\r\n    renderMode: Number;\r\n    child: any;\r\n    asyncMethod: any;\r\n    parentNode: any;\r\n\r\n    constructor(props: any, parent: Component, renderMode: any) {\r\n        Object.defineProperty(this, 'disabled', {value: false, writable:true, enumerable:false});\r\n        Object.defineProperty(this, 'key', {value: props.key, writable:true, enumerable: false});\r\n        Object.defineProperty(this, 'ref', {value: props.ref, writable:true, enumerable: false});\r\n        \r\n        delete props.ref;\r\n        delete props.key;\r\n\r\n        Object.defineProperty(this, 'asyncMethod', {value: DEFER_PROMISE, writable: true, enumerable: false});\r\n        Object.defineProperty(this, 'renderMode', {value: renderMode || SYNC, writable: true, enumerable: false});\r\n        Object.defineProperty(this, 'child', {value: null, writable: true, enumerable: false});\r\n        Object.defineProperty(this, 'base', {value: null, writable: true, enumerable: false});\r\n        Object.defineProperty(this, 'parent', {value: parent, writable: true, enumerable: false});\r\n        Object.defineProperty(this, 'parentNode', {value: null, writable: true, enumerable: false});\r\n   \r\n        this.observe(props);\r\n    }\r\n\r\n    protected onChange(key: string, value: any, previous: any) {\r\n        if(this.shouldRender(key,value,previous)) {\r\n            if(this.renderMode === SYNC) renderComponent(this, this.parentNode);\r\n            else if(this.renderMode === ASYNC) enqueue(this);\r\n        }\r\n    }\r\n\r\n    forceUpdate() {\r\n        renderComponent(this, this.parentNode);\r\n    }\r\n\r\n    beforeRender() : void {\r\n\r\n    }\r\n\r\n    afterRender() : void {\r\n        \r\n    }\r\n\r\n    render() : any {\r\n\r\n    }\r\n\r\n    willUnmount() : void {\r\n\r\n    }\r\n\r\n    beforeUnmount() : void {\r\n\r\n    }\r\n\r\n    didMount() : void {\r\n\r\n    }\r\n\r\n    protected shouldRender(key: string, value: any, previous: any) : boolean {\r\n        return true;\r\n    }\r\n\r\n    protected observe(o: Object) {\r\n        for(let k in o) {\r\n            let v : any = o[k];\r\n\r\n            if(typeof v === 'function') {\r\n                this[k] = v;\r\n                continue;\r\n            }\r\n\r\n            Object.defineProperty(this, `\\$${k}`, {value: v, writable: true, enumerable: false });\r\n            \r\n            Object.defineProperty(this, k, {\r\n                enumerable: true,\r\n                get() {\r\n                    return this[`\\$${k}`];\r\n                },\r\n                set(nv: any) {\r\n                    const prev = this[`\\$${k}`];\r\n                    this[`\\$${k}`] = nv;\r\n\r\n                    if(!this.disabled && prev !== nv) {\r\n                        this.onChange(k,nv,prev);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport function renderComponent(component: Component, parentNode: any) {\r\n    let isUpdate =  component.base, p, props, rendered, toUnmount, cbase, inst, base, wrap;\r\n    if(component.disabled) return;\r\n\r\n    component.beforeRender();\r\n    rendered = component.render();\r\n\r\n    if(!component.parentNode) component.parentNode = parentNode;\r\n    cbase = base = component.base;\r\n\r\n    if(typeof rendered.nodeName === 'function' && !rendered.childNodes.length) {\r\n        props = rendered.attributes;\r\n        inst = component.child;\r\n        if(inst && inst.constructor === rendered.nodeName) {\r\n            prepareRender(inst, props);\r\n            renderComponent(inst, component.parentNode);\r\n        }\r\n        else {\r\n            toUnmount = inst;\r\n            component.child = inst = new rendered.nodeName(props, component);\r\n            if(inst.ref) inst.ref(inst);\r\n            renderComponent(inst, component.parentNode);\r\n        }\r\n\r\n        base = inst.base;\r\n    }\r\n    else if(typeof rendered.nodeName === 'function' && rendered.childNodes.length) {\r\n        wrap = new VNode('div', 'element', '');\r\n        rendered.childNodes.forEach(n => wrap.childNodes.push(n));\r\n        rendered.childNodes = Array<VNode>(0);\r\n        wrap.childNodes.unshift(rendered);\r\n        rendered = wrap;\r\n    }\r\n    if(typeof rendered.nodeName !== 'function') {\r\n        toUnmount = component.child;\r\n        if(toUnmount) cbase = component.child = null;\r\n        if(cbase || component.renderMode === SYNC) base = diff(cbase, rendered, component.parentNode, true);\r\n    }\r\n\r\n    if(cbase && base !== cbase && inst !== component.child) {\r\n        p = cbase.parentNode;\r\n        if(p && base !== p) {\r\n            p.replaceChild(base, cbase);\r\n\r\n            if(!toUnmount) {\r\n                cbase._component = null;\r\n                recollectNodeTree(cbase, false);\r\n            }\r\n        }\r\n    }\r\n\r\n    if(toUnmount) unmountComponent(toUnmount);\r\n\r\n    component.base = base;\r\n    if(base && !component.child) base._component = component;\r\n\r\n    if(!isUpdate) mounts.unshift(component);\r\n\r\n    if(!diffLevel) flushMounts();\r\n    component.afterRender();\r\n}\r\n\r\nexport function prepareRender(inst: Component, props: any) {\r\n    inst.disabled = true;\r\n    for(let n in props) {\r\n        if(inst[n] !== undefined) {\r\n            inst[n] = props[n];\r\n        }\r\n    }\r\n    if(inst.ref) inst.ref(inst);\r\n    inst.disabled = false;\r\n}\r\n\r\nexport function unmountComponent(component: Component) {\r\n    component.beforeUnmount();\r\n    const base = component.base;\r\n    component.disabled = true;\r\n    component.willUnmount();\r\n    component.base = null;\r\n    if(component.child) unmountComponent(component.child);\r\n    component.parent = null;\r\n    component.child = null;\r\n    if(base) {\r\n        if(base[ATTR_KEY] && base[ATTR_KEY].ref) base[ATTR_KEY].ref(null);\r\n\r\n        removeNode(base);\r\n    }\r\n    if(component.ref) component.ref(null);\r\n}\r\n\r\nexport function buildComponent(dom: any, node: VNode, parentNode: any) {\r\n    let c = dom && dom._component,\r\n        isDirectOwner = c && c.constructor === node.nodeName,\r\n        props = node.attributes;\r\n\r\n    if(isDirectOwner && c) {\r\n        prepareRender(c, props);\r\n        renderComponent(c, parentNode);\r\n        dom = c.base;\r\n    }\r\n    else {\r\n        recollectNodeTree(dom, false);\r\n        c = new node.nodeName(props, null);\r\n        if(c.ref) c.ref(c);\r\n        renderComponent(c, parentNode);\r\n        dom = c.base;\r\n    }\r\n    \r\n    return dom;\r\n}","'use strict';\r\n\r\nimport Component, { DEFER_PROMISE, renderComponent } from './component';\r\nimport VNode from './readapt-vdom/vnode';\r\nimport { diff } from './readapt-vdom/diff';\r\n\r\nlet renderQueue = Array<Component>(0);\r\nexport function enqueue(component: Component) {\r\n    renderQueue.unshift(component);\r\n    (component.asyncMethod || DEFER_PROMISE)(() => {\r\n        let p, list = renderQueue;\r\n        renderQueue = Array<Component>(0);           \r\n        while((p = list.pop())) renderComponent(p, p.parentNode);\r\n    });\r\n}\r\nexport function hydrate(node: VNode, parent: any) {\r\n    return render(node, parent, parent.firstElementChild);\r\n}\r\nexport function render(node: VNode, parent: any, merge: any) {\r\n    return diff(merge, node, parent, true);\r\n}","export default class ClassList {\r\n    classes: any;\r\n\r\n    constructor() {\r\n        this.classes = new Array<any>(0);\r\n    }\r\n\r\n    contains(n: string) : boolean {\r\n        return this.classes.includes(n);\r\n    }\r\n\r\n    add(n: string) : void {\r\n        if(!this.contains(n)) this.classes.push(n);\r\n    }\r\n\r\n    remove(n: string) : void {\r\n        const idx = this.classes.indexOf(n);\r\n        if(idx > -1) this.classes.splice(idx,1);\r\n    }\r\n\r\n    forEach(fn: any) {\r\n        return this.classes.forEach(fn);\r\n    }\r\n\r\n    clone() : Array<any> {\r\n        const list = Array<any>(0);\r\n\r\n        this.classes.forEach(c => list.push(c));\r\n\r\n        return list;\r\n    }\r\n}","'use strict';\r\n\r\nimport ClassList from './classlist';\r\n\r\nexport default class NodeImpl {\r\n    childNodes: Array<NodeImpl>;\r\n    firstChild: NodeImpl | null;\r\n    lastChild: NodeImpl | null;\r\n    nextSibling: NodeImpl | null;\r\n    parentNode: NodeImpl | null;\r\n    nodeType: string;\r\n    previousSibling: NodeImpl | null;\r\n    nodeValue: string;\r\n    nodeName: string | any;\r\n    attributes: Object;\r\n    style: Object;\r\n    classList: ClassList;\r\n    key: any;\r\n    splitText: any;\r\n    _component: Object;\r\n\r\n    //this is a shortcut to the W3Spec \r\n    //we just care about a few things to mimic\r\n    constructor(name: string | any, type: string) {\r\n        this.nodeType = type;\r\n        this.nodeName = name;\r\n        this.splitText = type === 'text';\r\n        this.childNodes = Array<NodeImpl>(0);\r\n        this.attributes = {};\r\n        this.style = { \r\n            set cssText(value: any) {\r\n                for(let n in this) delete this[n];\r\n                const values = value.split(';').filter(v => v.length > 0);\r\n                values.forEach(b => {\r\n                    const items = b.split(':');\r\n                    if(items.length == 2) this[items[0]] = items[1].replace(/;/gi, '');\r\n                });\r\n            }\r\n        };\r\n        this.classList = new ClassList();\r\n    }\r\n\r\n    get children() : Array<any> {\r\n        return this.childNodes.filter(c => c.nodeType !== 'text');\r\n    }\r\n\r\n    get textContent() : string {\r\n        let str = '';\r\n\r\n        str += this.nodeValue;\r\n\r\n        this.childNodes.forEach((n) => {\r\n            if(n.nodeValue)str += n.nodeValue\r\n            const all = n.textContent;\r\n            if(all) str += all;\r\n        })\r\n\r\n        return str;\r\n    }\r\n\r\n    set textContent(v: string) {\r\n        this.nodeValue = v;\r\n        this.childNodes.forEach(c => this.removeChild(c));\r\n    }\r\n\r\n    addEventListener(event: string, fn: any, capture: boolean) {\r\n        ///place holder\r\n    }\r\n\r\n    removeEventListener(event: string, fn: any, capture: boolean) {\r\n        //placeholder\r\n    }\r\n\r\n    getAttributeNames() {\r\n        return Object.keys(this.attributes);\r\n    }\r\n\r\n    setAttribute(name: string, v: string) {\r\n        this.attributes[name] = v;\r\n    }\r\n    getAttribute(name: string) {\r\n        return this.attributes[name];\r\n    }\r\n    removeAttribute(name: string) {\r\n        delete this.attributes[name];\r\n    }\r\n\r\n    appendChild(node: NodeImpl) {\r\n        if(this.childNodes.indexOf(node) > -1) {\r\n            return;\r\n        }\r\n        if(this.firstChild === null) {\r\n            this.firstChild = node;\r\n            this.lastChild = node;\r\n            if(node.parentNode) node.parentNode.removeChild(node);\r\n            node.parentNode = this;\r\n        }\r\n        else if(this.lastChild) {\r\n            if(node.parentNode) node.parentNode.removeChild(node);\r\n            this.lastChild.nextSibling = node;\r\n            node.previousSibling = this.lastChild;\r\n            node.parentNode = this;\r\n            this.lastChild = node;\r\n        }\r\n        this.childNodes.push(node);\r\n    }\r\n\r\n    replaceChild(child: NodeImpl, target: NodeImpl) {\r\n        const idx = this.childNodes.indexOf(target);\r\n\r\n        if(idx > -1) {\r\n            if(child.parentNode) child.parentNode.removeChild(child);\r\n\r\n            child.parentNode = this;\r\n            child.nextSibling = target.nextSibling;\r\n            child.previousSibling = target.previousSibling;\r\n\r\n            if(target.previousSibling) target.previousSibling.nextSibling = child;\r\n            if(target.nextSibling) target.nextSibling.previousSibling = child;\r\n\r\n            target.nextSibling = null;\r\n            target.parentNode = null;\r\n            target.previousSibling = null;\r\n\r\n            this.childNodes.splice(idx,1,child);\r\n        }\r\n    }\r\n\r\n    removeChild(child: NodeImpl) {\r\n        const idx = this.childNodes.indexOf(child);\r\n\r\n        if(idx > -1) this.childNodes.splice(idx,1);\r\n\r\n        if(child.previousSibling) child.previousSibling.nextSibling = child.nextSibling;\r\n        \r\n        if(child.nextSibling) child.nextSibling.previousSibling = child.previousSibling;\r\n        \r\n\r\n        if(child === this.firstChild) this.firstChild = this.firstChild.nextSibling;\r\n        else if (child === this.lastChild) this.lastChild = this.lastChild.previousSibling;\r\n        \r\n\r\n        child.parentNode = null;\r\n    }\r\n\r\n    contains(node: NodeImpl) {\r\n        return this.childNodes.indexOf(node) > -1;\r\n    }\r\n\r\n    insertBefore(child: NodeImpl, ref: NodeImpl) {\r\n        const idx = this.childNodes.indexOf(ref);\r\n        if(idx > -1) {\r\n            child.nextSibling = ref;\r\n            child.previousSibling = ref.previousSibling;\r\n            \r\n            if(ref.previousSibling) ref.previousSibling.nextSibling = child;\r\n\r\n            ref.previousSibling = child;\r\n\r\n            this.childNodes.splice(idx,0,child);\r\n        }\r\n    }\r\n\r\n    cloneNode(deep: boolean) : NodeImpl {\r\n        if(deep) {\r\n            const n = new NodeImpl(this.nodeName, this.nodeType);\r\n            n.nodeValue = this.nodeValue;\r\n            for(let i = 0; i < this.childNodes.length; i++) n.appendChild(this.childNodes[i].cloneNode(deep));\r\n            for(let style in this.style) n.style[style] = this.style[style];\r\n            for(let attr in this.attributes) n.attributes[attr] = this.attributes[attr];\r\n            n.classList.classes = this.classList.clone();\r\n            return n;\r\n        }\r\n\r\n        return new NodeImpl(this.nodeName, this.nodeType);\r\n    }\r\n}","'use strict';\r\n\r\nconst UPPER_REGEX = /([A-Z])/g;\r\nconst MS_REGEX = /^ms-/;\r\nconst MOZ_REGEX = /^moz-/;\r\nconst styleCache = {};\r\n\r\nconst VOID_ELEMENTS : any = [\r\n    'input', \r\n    'br',\r\n    'area',\r\n    'col',\r\n    'base',\r\n    'command',\r\n    'embed',\r\n    'hr',\r\n    'img',\r\n    'link',\r\n    'meta',\r\n    'param',\r\n    'source',\r\n    'track',\r\n    'wbr'\r\n];\r\n\r\nexport default class PartialRenderer {\r\n    static renderToString(child: any) {\r\n        if(!child) return '';\r\n\r\n        //shortcut for browsers\r\n        if(child.innerHTML !== undefined) return child.innerHTML;\r\n\r\n        let str = '';\r\n\r\n        if(child.nodeType === 'element') {\r\n            str += PartialRenderer.startTag(child);\r\n            const style = PartialRenderer.styleString(child);\r\n            if(style) str += ` style=\"${style}\"`;\r\n            const classes = PartialRenderer.classString(child);\r\n            if(classes) str += ` class=\"${classes}\"`;\r\n            const attributes = PartialRenderer.attributeString(child);\r\n            if(attributes) str += ' ' + attributes;\r\n            str += PartialRenderer.startTagEnd(child);\r\n        }\r\n        else str += child.nodeValue;\r\n\r\n        child.childNodes.forEach(c => str += PartialRenderer.renderToString(c));\r\n\r\n        if(child.nodeType === 'element') str += PartialRenderer.endTag(child);\r\n\r\n        return str;\r\n    }\r\n\r\n    ///only works on server!!!\r\n    static renderToStream(child: any, stream: any) {\r\n        if(!child) return;\r\n\r\n        if(child.nodeType === 'element') {\r\n            stream.write(PartialRenderer.startTag(child));\r\n            const style = PartialRenderer.styleString(child);\r\n            if(style) stream.write(` style=\"${style}\"`);\r\n            const classes = PartialRenderer.classString(child);\r\n            if(classes) stream.write(` class=\"${classes}\"`);\r\n            const attributes = PartialRenderer.attributeString(child);\r\n            if(attributes) stream.write(' ' + attributes);\r\n            stream.write(PartialRenderer.startTagEnd(child));\r\n        }\r\n        else stream.write(child.nodeValue);\r\n\r\n        child.childNodes.forEach(c => PartialRenderer.renderToStream(child, stream));\r\n\r\n        if(child.nodeType === 'element') stream.write(PartialRenderer.endTag(child));\r\n\r\n        stream.end();\r\n    }\r\n\r\n    static startTag(child: any) : string {\r\n        return `<${child.nodeName.toLowerCase()}`;\r\n    }\r\n\r\n    static startTagEnd(child: any) : string {\r\n        if(VOID_ELEMENTS.includes(child.nodeName.toLowerCase())) return '/>';\r\n        return '>';\r\n    }\r\n\r\n    static endTag(child: any) : string {\r\n        if(VOID_ELEMENTS.includes(child.nodeName.toLowerCase())) return '';\r\n\r\n        return `</${child.nodeName.toLowerCase()}>`;\r\n    }\r\n\r\n    static classString(child: any) : string {\r\n        let str = '',delimiter = '';\r\n\r\n        child.classList.forEach((c) => {\r\n            str += delimiter + c;\r\n            delimiter = ' ';\r\n        })\r\n\r\n        return str;\r\n    }\r\n\r\n    static attributeString(child: any) : string {\r\n        let str = '',delimiter = '';\r\n\r\n        for(let attr in child.attributes) {\r\n            if(child.attributes[attr]) str += delimiter + `${attr}=\"${child.attributes[attr]}\"`;\r\n            delimiter = ' ';\r\n        }\r\n\r\n        return str;\r\n    }\r\n\r\n    static styleString(child: any) : string {\r\n        const styles = child.style;\r\n        let str = '', delimiter = '';\r\n        for(let style in styles) {\r\n            if(style !== 'cssText') {\r\n                const name = PartialRenderer.styleName(style);\r\n                str += delimiter + `${style}: ${styles[style]}`;\r\n                delimiter = ';';\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n\r\n    static styleName(name: string) : string {\r\n        if(styleCache[name]) return styleCache[name];\r\n        const cache = name.replace(UPPER_REGEX, '-$1')\r\n        .toLowerCase()\r\n        .replace(MS_REGEX, '-ms-')\r\n        .replace(MOZ_REGEX, '-moz-');\r\n        styleCache[name] = cache;\r\n        return cache;\r\n    }\r\n}","'use strict';\r\nimport {h, h as createElement} from './h';\r\nimport Component from './component';\r\nimport {DOM} from './readapt-dom/index';\r\nimport {render} from './render';\r\nimport DocumentImpl from './readapt-vdom/document';\r\nimport PartialRenderer from './readapt-vdom/partialrenderer';\r\n\r\nDOM.document = new DocumentImpl();\r\nexports.h = h;\r\nexports.Component = Component;\r\nexports.ReAdapt = {\r\n    render: render,\r\n    renderToString: PartialRenderer.renderToString,\r\n    renderToStream: PartialRenderer.renderToStream,\r\n    DOM: DOM\r\n};\r\nexports.React = {\r\n    createElement: createElement,\r\n    render: render,\r\n};","'use strict';\r\n\r\nimport NodeImpl from './node';\r\n\r\nexport default class DocumentImpl {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    get body() : NodeImpl {\r\n        return new NodeImpl('body', 'element');\r\n    }\r\n\r\n    createElement(name: string) : NodeImpl {\r\n        return new NodeImpl(name, 'element');\r\n    }\r\n\r\n    createTextNode(txt: string) : NodeImpl {\r\n        const node = new NodeImpl('#text', 'text');\r\n        node.splitText = true;\r\n        node.nodeValue = txt;\r\n        return node;\r\n    }\r\n\r\n    //place holder\r\n    querySelector(name: string)  {\r\n        return null;\r\n    }\r\n\r\n    //place holder\r\n    querySelectorAll(name: string) {\r\n        return null;\r\n    }\r\n}"],"sourceRoot":""}